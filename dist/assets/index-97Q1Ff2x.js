(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}})();class l{constructor(){this.modals=new Map,this.initializeModals()}initializeModals(){this.modals.set("login",document.getElementById("loginModal")),this.modals.set("register",document.getElementById("registerModal"))}showModal(e){const t=this.modals.get(e);t&&t.classList.remove("hidden")}hideModal(e){const t=this.modals.get(e);t&&t.classList.add("hidden")}hideAllModals(){this.modals.forEach(e=>{e.classList.add("hidden")})}}class u{constructor(){this.routes=new Map,this.initializeRoutes(),window.addEventListener("popstate",this.handleRoute.bind(this))}initializeRoutes(){this.routes.set("/",()=>this.loadHomePage()),this.routes.set("/customer",()=>this.loadCustomerInterface()),this.routes.set("/driver",()=>this.loadDriverInterface()),this.routes.set("/booking",()=>this.loadBookingInterface())}async loadHomePage(){try{const t=await(await fetch("/index.html")).text();document.documentElement.innerHTML=t;const r=document.createElement("script");r.type="module",r.src="/src/js/main.js",document.body.appendChild(r)}catch(e){console.error("Error loading home page:",e)}}async loadCustomerInterface(){try{const t=await(await fetch("/src/pages/customer/customer.html")).text();document.querySelector("main").innerHTML=t}catch(e){console.error("Error loading customer interface:",e)}}async loadDriverInterface(){try{const t=await(await fetch("/src/pages/driver/driver.html")).text();document.querySelector("main").innerHTML=t}catch(e){console.error("Error loading driver interface:",e)}}async loadBookingInterface(){try{const t=await(await fetch("/src/pages/customer/booking.html")).text();document.querySelector("main").innerHTML=t;const r=document.createElement("script");r.type="module",r.src="/src/js/pages/customer/booking.js",document.body.appendChild(r)}catch(e){console.error("Error loading booking interface:",e)}}handleRoute(){const e=window.location.pathname,t=this.routes.get(e);t&&t()}navigateTo(e){window.history.pushState({},"",e);const t=this.routes.get(e);t&&t()}}class m{constructor(){this.currentImageIndex=0,this.images=[{url:"/src/assets/truck1.jpg",alt:"Modern delivery truck on highway"},{url:"/src/assets/truck2.jpg",alt:"Large cargo truck for moving"},{url:"/src/assets/truck3.jpg",alt:"Professional moving service truck"}],this.initializeCarousel()}initializeCarousel(){setInterval(()=>{this.currentImageIndex=(this.currentImageIndex+1)%this.images.length,this.updateImage()},5e3)}updateImage(){const e=document.getElementById("hero-image");if(e){const{url:t,alt:r}=this.images[this.currentImageIndex];e.src=t,e.alt=r}}}const i=new l,h=new u;new m;window.router=h;window.showLoginModal=()=>i.showModal("login");window.hideLoginModal=()=>i.hideModal("login");window.showRegisterModal=()=>i.showModal("register");window.hideRegisterModal=()=>i.hideModal("register");var c;(c=document.getElementById("loginForm"))==null||c.addEventListener("submit",async n=>{n.preventDefault()});var d;(d=document.getElementById("registerForm"))==null||d.addEventListener("submit",async n=>{n.preventDefault()});
